---
title: "Step 2: Algebraic decomposition of all CW-OSL curves"
output:
  html_document:
    theme: journal
    toc: true
    toc_depth: 3
    toc_float:
      collapsed: false
    df_print: paged
params:
  dec_data: !r list(NULL)
  data_set: !r list(NULL)
---
This report was created at `r Sys.time()` with the **R** package **OSLdecomposition** `r packageVersion("OSLdecomposition")`

***

```{r step2_setup, include=FALSE}

# Last changed: 2020-04-19

library(numOSL)
library(knitr)
library(ggplot2)
library(gridExtra)
library(ggpubr)

knitr::opts_chunk$set(fig.width=7, #7
                      fig.asp=.6,
                      results = "asis",
                      warning=FALSE,
                      message=FALSE,
                      error=FALSE,
                      echo=FALSE,
                      cache=FALSE)

#fit_data <- params$fit_data

# numerate figures and tables
n.figure <- 1
n.table <- 1

# Find out the overall number of 'record_type' curves
# ToDo: Get this info (and the global_average data) directly from sum_OSLcurves outout
n.curves <- 0
for (j in 1:length(data_set)) {
  for (i in 1:length(data_set[[j]]@records)) {
   if (data_set[[j]]@records[[i]]@recordType == record_type) n.curves <- n.curves + 1
  }
}
```

## Summary
<font color="black">

***

***

<br><br>

## ...

## Further information

### Disclaimer

This report was automatically generated by functions of the **R** package `OSLdecomposition` written and maintained by Dirk Mittelstraß (<dirk.mittelstrass@luminescence.de>). The calculation process deploys also functions of the R packages `numOSL` introduced by Jun Peng *et al.* (2013) and `Luminescence` introduced by Sebastian Kreutzer *et al.* (2012)

This report and the containing results can be used, shared and published by the data set maintainer at will. If the results are published, however, it is demanded to state the main **R** package `OSLdecomposition` including its version number (`r packageVersion("OSLdecomposition")`). It is also recommended to add this report to the supplement of your publication.   

A full description of the method and the algorithms involved, as well as some performance tests, can be found in the master thesis this script is based upon:

-------------------

*D. Mittelstraß, ‘Decomposition of weak optically stimulated luminescence signals and its application in retrospective dosimetry at quartz’, Master thesis, TU Dresden, Dresden, 2019.*

-------------------


### Script settings


**Algorithm parameters** | 
-----------------------|----------------
Applied algorithm | `r dec_data$parameters$algorithm`
Error estimation approach | `r dec_data$parameters$error_calculation`
With background component? | `r dec_data$parameters$background_fitting`

### Session info

```{r session_info}

print(sessionInfo(), locale = FALSE)
```

## References
